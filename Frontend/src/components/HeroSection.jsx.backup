import { useEffect, useRef } from 'react';

const HeroSection = () => {
  const spaceshipRef = useRef(null);

  useEffect(() => {
    const spaceship = spaceshipRef.current;
    let animationId;
    let rotation = 0;
    let float = 0;

    const animate = () => {
      rotation += 0.3;
      float += 0.02;
      
      if (spaceship) {
        const floatY = Math.sin(float) * 20;
        spaceship.style.transform = `rotateY(${rotation}deg) translateY(${floatY}px) rotateX(10deg)`;
      }
      animationId = requestAnimationFrame(animate);
    };

    animate();

    return () => cancelAnimationFrame(animationId);
  }, []);

  return (
    <section id="home" className="relative min-h-screen flex items-center justify-center px-6 pt-20">
      <div className="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center">
        {/* Left: Text Content */}
        <div className="space-y-6 animate-fade-in">
          <h1 className="text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight">
            DSC WINTER OF CODE
          </h1>
          <p className="text-2xl md:text-3xl font-light nebula-text">
            EXPLORE. BUILD. CONTRIBUTE.
          </p>
          <p className="text-lg text-gray-300 leading-relaxed max-w-xl">
            A 4-week open-source mission where student developers learn, collaborate, 
            and contribute to real projects under expert mentorship.
          </p>

          {/* CTAs */}
          <div className="flex flex-col sm:flex-row gap-4 pt-4">
            <button className="retro-button bg-gradient-to-r from-cosmic-purple to-nebula-pink hover:from-galaxy-violet hover:to-nebula-pink text-white px-8 py-3 rounded-full font-semibold transition-all duration-300 hover:shadow-lg hover:shadow-cosmic-purple/50 hover:-translate-y-1 flex items-center justify-center gap-2 cosmic-glow">
              <span>üöÄ</span>
              JOIN THE MISSION
            </button>
            <button className="retro-button border-2 border-cosmic-purple text-cosmic-purple hover:bg-cosmic-purple/20 px-8 py-3 rounded-full font-semibold transition-all duration-300 hover:-translate-y-1 flex items-center justify-center gap-2 hover:shadow-lg hover:shadow-cosmic-purple/30">
              <span>üõ∞Ô∏è</span>
              BECOME A MENTOR
            </button>
          </div>
        </div>

        {/* Right: 3D Star Trek Style Spaceship */}
        <div className="relative flex items-center justify-center" style={{ perspective: '1200px' }}>
          <div 
            ref={spaceshipRef}
            className="relative"
            style={{
              transformStyle: 'preserve-3d',
              width: '400px',
              height: '400px',
            }}
          >
            {/* Enterprise-style spaceship */}
            <svg viewBox="0 0 400 300" className="w-full h-full">
              <defs>
                <linearGradient id="shipGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stopColor="#a855f7"/>
                  <stop offset="50%" stopColor="#ec4899"/>
                  <stop offset="100%" stopColor="#8b5cf6"/>
                </linearGradient>
                
                <linearGradient id="shipMetallic" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stopColor="#cbd5e1"/>
                  <stop offset="50%" stopColor="#94a3b8"/>
                  <stop offset="100%" stopColor="#64748b"/>
                </linearGradient>
                
                <radialGradient id="engineGlow" cx="50%" cy="50%" r="50%">
                  <stop offset="0%" stopColor="#fbbf24" stopOpacity="1"/>
                  <stop offset="50%" stopColor="#f97316" stopOpacity="0.8"/>
                  <stop offset="100%" stopColor="#ec4899" stopOpacity="0.3"/>
                </radialGradient>
                
                <filter id="shipGlow">
                  <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
                  <feMerge>
                    <feMergeNode in="coloredBlur"/>
                    <feMergeNode in="SourceGraphic"/>
                  </feMerge>
                </filter>
              </defs>

              {/* Main Saucer Section with detailed paneling */}
              <ellipse cx="200" cy="120" rx="100" ry="40" 
                fill="url(#shipGradient)" 
                stroke="#ec4899" 
                strokeWidth="2"
                filter="url(#shipGlow)"
                opacity="0.9"/>
              
              {/* Saucer detail rings - multiple layers */}
              <ellipse cx="200" cy="120" rx="90" ry="36" 
                fill="none" 
                stroke="#a855f7" 
                strokeWidth="1.5"
                opacity="0.7"/>
              <ellipse cx="200" cy="120" rx="80" ry="32" 
                fill="none" 
                stroke="#8b5cf6" 
                strokeWidth="1"
                opacity="0.6"/>
              <ellipse cx="200" cy="120" rx="70" ry="28" 
                fill="none" 
                stroke="#a855f7" 
                strokeWidth="0.8"
                opacity="0.5"/>
              <ellipse cx="200" cy="120" rx="60" ry="24" 
                fill="none" 
                stroke="#ec4899" 
                strokeWidth="1"
                opacity="0.5"/>
              
              {/* Saucer panels - top view segments */}
              {[...Array(8)].map((_, i) => {
                const angle = (i * 45) * (Math.PI / 180);
                const x1 = 200 + Math.cos(angle) * 30;
                const y1 = 120 + Math.sin(angle) * 12;
                const x2 = 200 + Math.cos(angle) * 90;
                const y2 = 120 + Math.sin(angle) * 36;
                return (
                  <line key={`panel-${i}`} x1={x1} y1={y1} x2={x2} y2={y2} 
                    stroke="#8b5cf6" 
                    strokeWidth="0.5" 
                    opacity="0.3"/>
                );
              })}
              
              {/* Bridge dome - more detailed */}
              <ellipse cx="200" cy="110" rx="32" ry="16" 
                fill="#6366f1" 
                stroke="#8b5cf6" 
                strokeWidth="1.5"/>
              <ellipse cx="200" cy="109" rx="28" ry="14" 
                fill="none" 
                stroke="#a855f7" 
                strokeWidth="0.8" 
                opacity="0.6"/>
              {/* Bridge windows */}
              <ellipse cx="200" cy="110" rx="20" ry="10" 
                fill="#3b82f6" 
                opacity="0.4"/>
              
              {/* Connecting neck - more detailed */}
              <rect x="194" y="140" width="12" height="42" 
                fill="#6366f1" 
                stroke="#8b5cf6" 
                strokeWidth="1"/>
              <rect x="196" y="140" width="8" height="42" 
                fill="url(#shipMetallic)" 
                opacity="0.5"/>
              
              {/* Engineering hull - more detailed */}
              <ellipse cx="200" cy="202" rx="27" ry="62" 
                fill="url(#shipGradient)" 
                stroke="#ec4899" 
                strokeWidth="2"
                opacity="0.9"/>
              {/* Hull details */}
              <ellipse cx="200" cy="202" rx="23" ry="58" 
                fill="none" 
                stroke="#a855f7" 
                strokeWidth="1" 
                opacity="0.5"/>
              {[...Array(6)].map((_, i) => (
                <line key={`hull-${i}`} 
                  x1="200" y1={150 + i * 18} 
                  x2="200" y2={160 + i * 18} 
                  stroke="#8b5cf6" 
                  strokeWidth="1.5" 
                  opacity="0.4"/>
              ))}
              
              {/* Warp nacelles - left - more detailed */}
              <g>
                {/* Nacelle body */}
                <rect x="75" y="168" width="68" height="24" rx="12"
                  fill="url(#shipGradient)" 
                  stroke="#8b5cf6" 
                  strokeWidth="2.5"/>
                <rect x="78" y="171" width="62" height="18" rx="9"
                  fill="url(#shipMetallic)" 
                  opacity="0.4"/>
                {/* Engine glow */}
                <ellipse cx="110" cy="180" rx="25" ry="10" 
                  fill="url(#engineGlow)"
                  className="animate-pulse"/>
                {/* Nacelle details */}
                <line x1="85" y1="175" x2="135" y2="175" 
                  stroke="#a855f7" strokeWidth="1" opacity="0.6"/>
                <line x1="85" y1="180" x2="135" y2="180" 
                  stroke="#ec4899" strokeWidth="1" opacity="0.6"/>
                <line x1="85" y1="185" x2="135" y2="185" 
                  stroke="#a855f7" strokeWidth="1" opacity="0.6"/>
                {/* Support pylon - detailed */}
                <path d="M 150,140 L 148,150 L 145,168 L 143,180" 
                  stroke="#6366f1" 
                  strokeWidth="4"
                  fill="none"/>
                <path d="M 150,140 L 148,150 L 145,168 L 143,180" 
                  stroke="#8b5cf6" 
                  strokeWidth="2"
                  fill="none"
                  opacity="0.6"/>
              </g>
              
              {/* Warp nacelles - right - more detailed */}
              <g>
                {/* Nacelle body */}
                <rect x="257" y="168" width="68" height="24" rx="12"
                  fill="url(#shipGradient)" 
                  stroke="#8b5cf6" 
                  strokeWidth="2.5"/>
                <rect x="260" y="171" width="62" height="18" rx="9"
                  fill="url(#shipMetallic)" 
                  opacity="0.4"/>
                {/* Engine glow */}
                <ellipse cx="290" cy="180" rx="25" ry="10" 
                  fill="url(#engineGlow)"
                  className="animate-pulse"/>
                {/* Nacelle details */}
                <line x1="265" y1="175" x2="315" y2="175" 
                  stroke="#a855f7" strokeWidth="1" opacity="0.6"/>
                <line x1="265" y1="180" x2="315" y2="180" 
                  stroke="#ec4899" strokeWidth="1" opacity="0.6"/>
                <line x1="265" y1="185" x2="315" y2="185" 
                  stroke="#a855f7" strokeWidth="1" opacity="0.6"/>
                {/* Support pylon - detailed */}
                <path d="M 250,140 L 252,150 L 255,168 L 257,180" 
                  stroke="#6366f1" 
                  strokeWidth="4"
                  fill="none"/>
                <path d="M 250,140 L 252,150 L 255,168 L 257,180" 
                  stroke="#8b5cf6" 
                  strokeWidth="2"
                  fill="none"
                  opacity="0.6"/>
              </g>
              
              {/* Window lights - more detailed grid */}
              {[...Array(30)].map((_, i) => {
                const row = Math.floor(i / 10);
                const col = i % 10;
                return (
                  <circle 
                    key={i}
                    cx={150 + col * 10} 
                    cy={113 + row * 7} 
                    r="1.5" 
                    fill="#fbbf24"
                    className="animate-pulse"
                    style={{ animationDelay: `${i * 0.08}s` }}/>
                );
              })}
              
              {/* Deflector dish - more detailed */}
              <circle cx="200" cy="205" r="14" 
                fill="#1e40af" 
                opacity="0.6"/>
              <circle cx="200" cy="205" r="12" 
                fill="#3b82f6" 
                opacity="0.8"
                className="animate-pulse"/>
              <circle cx="200" cy="205" r="9" 
                fill="#60a5fa" 
                className="animate-pulse"/>
              <circle cx="200" cy="205" r="6" 
                fill="#93c5fd" 
                className="animate-pulse"
                style={{ animationDelay: '0.3s' }}/>
              
              {/* Bussard collectors on nacelle fronts */}
              <circle cx="85" cy="180" r="8" 
                fill="#dc2626" 
                opacity="0.8"
                className="animate-pulse"/>
              <circle cx="85" cy="180" r="5" 
                fill="#f87171" 
                className="animate-pulse"/>
              <circle cx="315" cy="180" r="8" 
                fill="#dc2626" 
                opacity="0.8"
                className="animate-pulse"/>
              <circle cx="315" cy="180" r="5" 
                fill="#f87171" 
                className="animate-pulse"/>
            </svg>

            {/* Enhanced warp trail effect */}
            <div className="absolute top-1/2 left-0 -translate-y-1/2 w-full h-3 bg-gradient-to-r from-transparent via-nebula-pink/60 to-transparent blur-md animate-pulse"></div>
            <div className="absolute top-1/2 left-0 -translate-y-1/2 w-full h-1 bg-gradient-to-r from-transparent via-cosmic-purple/80 to-transparent"></div>
          </div>
        </div>
      </div>
    </section>
  );
};

export default HeroSection; 
                fill="none" 
                stroke="#a855f7" 
                strokeWidth="1"
                opacity="0.5"/>
              
              {/* Bridge dome */}
              <ellipse cx="200" cy="110" rx="30" ry="15" 
                fill="#6366f1" 
                stroke="#8b5cf6" 
                strokeWidth="1"/>
              
              {/* Connecting neck */}
              <rect x="195" y="140" width="10" height="40" 
                fill="#6366f1" 
                stroke="#8b5cf6" 
                strokeWidth="1"/>
              
              {/* Engineering hull */}
              <ellipse cx="200" cy="200" rx="25" ry="60" 
                fill="url(#shipGradient)" 
                stroke="#ec4899" 
                strokeWidth="2"
                opacity="0.8"/>
              
              {/* Warp nacelles - left */}
              <g>
                <rect x="80" y="170" width="60" height="20" rx="10"
                  fill="url(#shipGradient)" 
                  stroke="#8b5cf6" 
                  strokeWidth="2"/>
                <rect x="85" y="175" width="50" height="10" rx="5"
                  fill="#ec4899" 
                  opacity="0.6"
                  className="animate-pulse"/>
                {/* Support pylon */}
                <line x1="150" y1="140" x2="140" y2="180" 
                  stroke="#6366f1" 
                  strokeWidth="3"/>
              </g>
              
              {/* Warp nacelles - right */}
              <g>
                <rect x="260" y="170" width="60" height="20" rx="10"
                  fill="url(#shipGradient)" 
                  stroke="#8b5cf6" 
                  strokeWidth="2"/>
                <rect x="265" y="175" width="50" height="10" rx="5"
                  fill="#ec4899" 
                  opacity="0.6"
                  className="animate-pulse"/>
                {/* Support pylon */}
                <line x1="250" y1="140" x2="260" y2="180" 
                  stroke="#6366f1" 
                  strokeWidth="3"/>
              </g>
              
              {/* Window lights */}
              {[...Array(20)].map((_, i) => (
                <circle 
                  key={i}
                  cx={150 + (i % 10) * 10} 
                  cy={115 + Math.floor(i / 10) * 10} 
                  r="1.5" 
                  fill="#fbbf24"
                  className="animate-pulse"
                  style={{ animationDelay: `${i * 0.1}s` }}/>
              ))}
              
              {/* Deflector dish */}
              <circle cx="200" cy="200" r="12" 
                fill="#3b82f6" 
                opacity="0.8"
                className="animate-pulse"/>
              <circle cx="200" cy="200" r="8" 
                fill="#60a5fa" 
                className="animate-pulse"/>
            </svg>

            {/* Warp trail effect */}
            <div className="absolute top-1/2 left-0 -translate-y-1/2 w-full h-2 bg-gradient-to-r from-transparent via-nebula-pink/50 to-transparent blur-sm"></div>
          </div>
        </div>
      </div>
    </section>
  );
};

export default HeroSection;


